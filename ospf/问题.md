## 内容简介

1. 链路状态协议和距离矢量协议的区别
2. OSPF的优势
5. DR和BDR是否允许抢占？
7. OSPF影响邻居建立的因素有哪些
8. 什么情况会卡在2-way
9. 什么情况会卡在EXSTART
10. hello包的ttl是多少
11. LSDB能接收到但是没有路由的原因
12. LSA刷新时间？最大老化时间
14. OSPF cost值怎么计算
15. OSPF的hello报文包含哪些参数
16. 区域和DR是基于路由器还是基于接口的？
17. OSPF router-id的自动生成规则

### 链路状态和距离矢量的区别

1. 距离矢量中，路由器共享整个AS的内容，在链路状态中，路由器共享相邻路由器的知识。
2. 距离矢量更新的是“路由”，链路状态更新的是“拓扑”
3. 没有谁快谁满之说，EIGRP在Cisco上是最快的。

### OSPF的优势

1. 快速收敛
2. 支持CIDR
3. 提高了网络节点的可达性
4. 提供最佳路由的选择
5. LOOP-FREE

### DR/BDR是否允许抢占

一旦收敛结束则不允许抢占

### OSPF影响邻居建立的因素

1. 版本一致
2. router ID不能重复
3. area ID一致
4. 认证信息一致
5. hello/dead信息一致
6. 子网一致
7. option E/N位一致

### 什么情况下会卡在2-way

1. MA网络综所有接口优先级为0
2. 为DRother角色则会卡到2-way上。

### 什么情况下会卡在EXSTART

1. MTU不一致
2. IPsec不通（GRE Over IPsec）
3. DD报文使用的是单播，但是单播无法进行，所以导致无法进入exchange，所以可能是DD报文的单播无法发送导致了卡状态

### HELLO包的TTL是多少

1

### 有LSDB没有路由的原因

网络类型不一样，通过hello包能建立邻居，不能正常生成数据库

### LSA刷新时间？老化时间？

每30min会重新泛洪一次

老化时间是一个小时

### OSPF COST值

$$
(10^8)/(Bandwidth-interface)
$$

### OSPF HELLO

1. RID
2. areaID
3. 接口地址掩码
4. 认证类型
5. 认证信息
6. DR
7. BDR
8. 优先级

### 区域和DR是基于路由器还是基于接口的？

接口

### OSPF RID自动选择规则

优先选择环回地址，然后是物理地址，IP越大越优先。
